{"version":3,"sources":["all.js"],"names":["data","cardArea","document","querySelector","filterNum","init","cards","amount","forEach","item","content","area","imgUrl","rate","name","description","group","price","innerHTML","filter","addEventListener","e","target","value","btn","tikketName","obj","id","length","push","alert","event","preventDefault"],"mappings":";;AAAA,IAAIA,IAAI,GAAG,CACT;AACE,QAAM,CADR;AAEE,UAAQ,UAFV;AAGE,YAAU,kKAHZ;AAIE,UAAQ,IAJV;AAKE,iBAAe,sBALjB;AAME,WAAS,EANX;AAOE,WAAS,IAPX;AAQE,UAAQ;AARV,CADS,EAWT;AACE,QAAM,CADR;AAEE,UAAQ,SAFV;AAGE,YAAU,kKAHZ;AAIE,UAAQ,IAJV;AAKE,iBAAe,sCALjB;AAME,WAAS,EANX;AAOE,WAAS,GAPX;AAQE,UAAQ;AARV,CAXS,EAqBT;AACE,QAAM,CADR;AAEE,UAAQ,WAFV;AAGE,YAAU,kKAHZ;AAIE,UAAQ,IAJV;AAKE,iBAAe,8CALjB;AAME,WAAS,EANX;AAOE,WAAS,IAPX;AAQE,UAAQ;AARV,CArBS,CAAX,C,CAiCA;;AACA,IAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAjB,C,CACA;;AACA,IAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB,C,CAEA;;AACA,SAASE,IAAT,GAAgB;AACd;AACA,MAAIC,KAAK,GAAG,EAAZ,CAFc,CAGd;;AACA,MAAIC,MAAM,GAAG,CAAb,CAJc,CAMd;;AACAP,EAAAA,IAAI,CAACQ,OAAL,CAAa,UAAUC,IAAV,EAAgB;AAC3B;AACA,QAAIC,OAAO,oMAGLD,IAAI,CAACE,IAHA,6CAKGF,IAAI,CAACG,MALR,sBAKwBH,IAAI,CAACE,IAL7B,oKAMkFF,IAAI,CAACI,IANvF,yPAUqFJ,IAAI,CAACK,IAV1F,0FAYCL,IAAI,CAACM,WAZN,sQAkBMN,IAAI,CAACO,KAlBX,wLAsBsBP,IAAI,CAACQ,KAtB3B,gGAAX,CAF2B,CA+B3B;;AACAX,IAAAA,KAAK,IAAII,OAAT,CAhC2B,CAkC3B;;AACAH,IAAAA,MAAM,IAAI,CAAV;AACD,GApCD,EAPc,CA6Cd;;AACAN,EAAAA,QAAQ,CAACiB,SAAT,GAAqBZ,KAArB,CA9Cc,CA+Cd;;AACAF,EAAAA,SAAS,CAACc,SAAV,4CAA+BX,MAA/B;AACD;;AAEDF,IAAI,G,CAIJ;;AACA,IAAMc,MAAM,GAAGjB,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf,C,CAEA;;AACAgB,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,UAAUC,CAAV,EAAa;AAC7C;AACA,MAAIf,KAAK,GAAG,EAAZ,CAF6C,CAG7C;;AACA,MAAIC,MAAM,GAAG,CAAb,CAJ6C,CAM7C;;AACAP,EAAAA,IAAI,CAACQ,OAAL,CAAa,UAAUC,IAAV,EAAgB;AAE3B;AACA,QAAIC,OAAO,oMAGLD,IAAI,CAACE,IAHA,6CAKGF,IAAI,CAACG,MALR,sBAKwBH,IAAI,CAACE,IAL7B,oKAMkFF,IAAI,CAACI,IANvF,yPAUqFJ,IAAI,CAACK,IAV1F,0FAYCL,IAAI,CAACM,WAZN,sQAkBMN,IAAI,CAACO,KAlBX,wLAsBsBP,IAAI,CAACQ,KAtB3B,gGAAX,CAH2B,CAiC3B;;AACA,QAAII,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmBd,IAAI,CAACE,IAA5B,EAAkC;AAChCL,MAAAA,KAAK,IAAII,OAAT;AACAH,MAAAA,MAAM,IAAI,CAAV;AACD,KAHD,MAGO,IAAIc,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmB,KAAvB,EAA8B;AACnCjB,MAAAA,KAAK,IAAII,OAAT;AACAH,MAAAA,MAAM,IAAI,CAAV;AACD;AACF,GAzCD;AA0CAN,EAAAA,QAAQ,CAACiB,SAAT,GAAqBZ,KAArB;AACAF,EAAAA,SAAS,CAACc,SAAV,4CAA+BX,MAA/B;AACD,CAnDD,E,CAsDA;AAEA;;AACA,IAAMiB,GAAG,GAAGtB,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAZ,C,CAEA;;AACA,IAAMsB,UAAU,GAAGvB,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA,IAAMS,MAAM,GAAGV,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;AACA,IAAMQ,IAAI,GAAGT,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,IAAMc,KAAK,GAAGf,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,IAAMa,KAAK,GAAGd,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,IAAMU,IAAI,GAAGX,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,IAAMY,WAAW,GAAGb,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAApB,C,CAEA;;AACAqB,GAAG,CAACJ,gBAAJ,CAAqB,OAArB,EAA8B,UAAUC,CAAV,EAAa;AAEzC;AACA,MAAIR,IAAI,CAACU,KAAL,IAAc,CAAd,IAAmBV,IAAI,CAACU,KAAL,IAAc,EAArC,EAAyC;AACvC;AAEA;AACA,QAAIG,GAAG,GAAG,EAAV,CAJuC,CAMvC;;AACAA,IAAAA,GAAG,CAACC,EAAJ,GAAS3B,IAAI,CAAC4B,MAAd;AACAF,IAAAA,GAAG,CAACZ,IAAJ,GAAWW,UAAU,CAACF,KAAtB;AACAG,IAAAA,GAAG,CAACd,MAAJ,GAAaA,MAAM,CAACW,KAApB;AACAG,IAAAA,GAAG,CAACf,IAAJ,GAAWA,IAAI,CAACY,KAAhB;AACAG,IAAAA,GAAG,CAACT,KAAJ,GAAYA,KAAK,CAACM,KAAlB;AACAG,IAAAA,GAAG,CAACV,KAAJ,GAAYA,KAAK,CAACO,KAAlB;AACAG,IAAAA,GAAG,CAACb,IAAJ,GAAWA,IAAI,CAACU,KAAhB;AACAG,IAAAA,GAAG,CAACX,WAAJ,GAAkBA,WAAW,CAACQ,KAA9B,CAduC,CAgBvC;;AACAvB,IAAAA,IAAI,CAAC6B,IAAL,CAAUH,GAAV,EAjBuC,CAmBvC;;AACArB,IAAAA,IAAI;AAEL,GAtBD,MAsBO;AACL;AACAyB,IAAAA,KAAK,CAAC,QAAD,CAAL;AACD,GA5BwC,CA+BzC;;;AACAL,EAAAA,UAAU,CAACF,KAAX,GAAmB,EAAnB;AACAX,EAAAA,MAAM,CAACW,KAAP,GAAe,EAAf;AACAZ,EAAAA,IAAI,CAACY,KAAL,GAAa,EAAb;AACAN,EAAAA,KAAK,CAACM,KAAN,GAAc,EAAd;AACAP,EAAAA,KAAK,CAACO,KAAN,GAAc,EAAd;AACAV,EAAAA,IAAI,CAACU,KAAL,GAAa,EAAb;AACAR,EAAAA,WAAW,CAACQ,KAAZ,GAAoB,EAApB,CAtCyC,CAwCzC;;AACAQ,EAAAA,KAAK,CAACC,cAAN;AACD,CA1CD","file":"all.js","sourcesContent":["let data = [\n  {\n    \"id\": 0,\n    \"name\": \"肥宅心碎賞櫻3日\",\n    \"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n    \"area\": \"高雄\",\n    \"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n    \"group\": 87,\n    \"price\": 1400,\n    \"rate\": 10\n  },\n  {\n    \"id\": 1,\n    \"name\": \"貓空纜車雙程票\",\n    \"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n    \"area\": \"台北\",\n    \"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n    \"group\": 99,\n    \"price\": 240,\n    \"rate\": 2\n  },\n  {\n    \"id\": 2,\n    \"name\": \"台中谷關溫泉會1日\",\n    \"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n    \"area\": \"台中\",\n    \"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n    \"group\": 20,\n    \"price\": 1765,\n    \"rate\": 7\n  }\n];\n\n//  選取下方卡片資料區\nconst cardArea = document.querySelector(\".cardArea\");\n// 選取篩選資料筆數\nconst filterNum = document.querySelector('.filterNum');\n\n// init\nfunction init() {\n  // 卡片資料區初始化\n  let cards = \"\";\n  // 篩選筆數初始化\n  let amount = 0;\n\n  // 遍歷當前所有資料 => 初始化\n  data.forEach(function (item) {\n    // 宣告、設定卡片樣板，遍歷後累積成卡片資料區的內容\n    let content = `\n      <div class=\"relative rounded-xl shadow-md\">\n      <h3 class=\"bg-primaryColor-light text-white px-5 py-2 w-24  text-lg text-center rounded-r-lg absolute -top-5\">\n        ${item.area}\n      </h3>\n      <img src=\"${item.imgUrl}\" alt=\"${item.area}\" class=\"w-full h-190 object-cover rounded-t-lg\">\n      <p class=\"bg-primaryColor-dark w-10 text-white text-center rounded px-2 absolute top-44\">${item.rate}</p>\n      <div class=\"rounded-b-lg\">\n        <div class=\"flex flex-col justify-between  h-336 pt-5 pb-4 px-7\">\n          <div>\n            <h4 class=\"text-2xl text-priamryColor border-b-4 border-primaryColor leading-10 mb-4\">${item.name}</h4>\n            <p class=\"text-gray-500 leading-7 mb-8\">\n              ${item.description}\n            </p>\n          </div>\n          <div class=\"flex justify-between items-center text-primaryColor font-medium\">\n            <p>\n              <i class=\"fas fa-exclamation-circle mr-1\"></i>\n              剩下最後 ${item.group} 組\n            </p>\n            <div class=\"flex items-center text-primary-Color\">\n              <p class=\"mr-1\">TWD</p>\n              <h5 class=\"text-4xl\">${item.price}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    `\n    // 卡片資料區加入遍歷過的 content 內容\n    cards += content;\n\n    // 計算篩選筆數\n    amount += 1;\n  })\n\n  // 修改卡片資料區 html 資料\n  cardArea.innerHTML = cards;\n  // 把 amount 累積計算後的筆數修改到html上\n  filterNum.innerHTML = `本次篩選共 ${amount} 筆資料`;\n}\n\ninit();\n\n\n\n// ---下方篩選器---\nconst filter = document.querySelector('#filter');\n\n//  第 1 層 監聽\nfilter.addEventListener('change', function (e) {\n  // 卡片資料區初始化\n  let cards = \"\";\n  // 篩選筆數初始化\n  let amount = 0;\n\n  // 第 2 層 forEach 遍歷資料\n  data.forEach(function (item) {\n\n    // 宣告、設定卡片樣板，遍歷後累積成卡片資料區的內容\n    let content = `\n      <div class=\"relative rounded-xl shadow-md\">\n      <h3 class=\"bg-primaryColor-light text-white px-5 py-2 w-24  text-lg text-center rounded-r-lg absolute -top-5\">\n        ${item.area}\n      </h3>\n      <img src=\"${item.imgUrl}\" alt=\"${item.area}\" class=\"w-full h-190 object-cover rounded-t-lg\">\n      <p class=\"bg-primaryColor-dark w-10 text-white text-center rounded px-2 absolute top-44\">${item.rate}</p>\n      <div class=\"rounded-b-lg\">\n        <div class=\"flex flex-col justify-between  h-336 pt-5 pb-4 px-7\">\n          <div>\n            <h4 class=\"text-2xl text-priamryColor border-b-4 border-primaryColor leading-10 mb-4\">${item.name}</h4>\n            <p class=\"text-gray-500 leading-7 mb-8\">\n              ${item.description}\n            </p>\n          </div>\n          <div class=\"flex justify-between items-center text-primaryColor font-medium\">\n            <p>\n              <i class=\"fas fa-exclamation-circle mr-1\"></i>\n              剩下最後 ${item.group} 組\n            </p>\n            <div class=\"flex items-center text-primary-Color\">\n              <p class=\"mr-1\">TWD</p>\n              <h5 class=\"text-4xl\">${item.price}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    `;\n\n    // 第三層 if 條件判斷\n    if (e.target.value === item.area) {\n      cards += content;\n      amount += 1;\n    } else if (e.target.value === \"all\") {\n      cards += content;\n      amount += 1;\n    }\n  })\n  cardArea.innerHTML = cards;\n  filterNum.innerHTML = `本次篩選共 ${amount} 筆資料`;\n});\n\n\n// ---上方新增套票---\n\n// 按鈕選取做監聽\nconst btn = document.querySelector('.btn')\n\n// 宣告變數 => 取值用\nconst tikketName = document.querySelector('.tikketName');\nconst imgUrl = document.querySelector('.imgUrl');\nconst area = document.querySelector('.area');\nconst price = document.querySelector('.price');\nconst group = document.querySelector('.group');\nconst rate = document.querySelector('.rate');\nconst description = document.querySelector('.description');\n\n//  監聽事件\nbtn.addEventListener('click', function (e) {\n\n  // 先判斷星級是否正確\n  if (rate.value >= 1 && rate.value <= 10) {\n    // 星級正確\n\n    // 宣告一個物件 => 之後要符合 data 資料結構\n    let obj = {};\n\n    // 將 obj 賦值，名稱結構比照 data\n    obj.id = data.length;\n    obj.name = tikketName.value;\n    obj.imgUrl = imgUrl.value;\n    obj.area = area.value;\n    obj.price = price.value;\n    obj.group = group.value;\n    obj.rate = rate.value;\n    obj.description = description.value;\n\n    // 把建立好的 obj 物件 push 到 data陣列資料裡面\n    data.push(obj);\n\n    // 再次執行初始化，重新跑過 data內的資料，然後渲染 HTML\n    init();\n\n  } else {\n    // 星級錯誤\n    alert('星級填寫錯誤');\n  }\n\n\n  // 重置輸入欄位的值\n  tikketName.value = \"\";\n  imgUrl.value = \"\";\n  area.value = \"\";\n  price.value = \"\";\n  group.value = \"\";\n  rate.value = \"\";\n  description.value = \"\";\n\n  // 取消input type=submit 原本預設的 post 行為\n  event.preventDefault();\n})\n"]}