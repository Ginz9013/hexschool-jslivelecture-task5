{"version":3,"sources":["all.js"],"names":["data","axios","get","then","response","init","cardArea","document","querySelector","filterNum","cards","amount","forEach","item","content","area","imgUrl","rate","name","description","group","price","innerHTML","filter","addEventListener","e","target","value","btn","tikketName","obj","id","length","parseInt","push","options","alert","event","preventDefault"],"mappings":"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","file":"all.js","sourcesContent":["let data = [];\n\n// Axios\naxios.get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n  .then(function (response) {\n    data = response.data.data;\n\n    init();\n  })\n\n\n//  選取下方卡片資料區\nconst cardArea = document.querySelector(\".cardArea\");\n// 選取篩選資料筆數\nconst filterNum = document.querySelector('.filterNum');\n\n// init\nfunction init() {\n  // 卡片資料區初始化\n  let cards = \"\";\n  // 篩選筆數初始化\n  let amount = 0;\n\n  // 遍歷當前所有資料 => 初始化\n  data.forEach(function (item) {\n    // 宣告、設定卡片樣板，遍歷後累積成卡片資料區的內容\n    let content = `\n      <div class=\"relative rounded-xl shadow-md\">\n      <h3 class=\"bg-primaryColor-light text-white px-5 py-2 w-24  text-lg text-center rounded-r-lg absolute -top-5\">\n        ${item.area}\n      </h3>\n      <img src=\"${item.imgUrl}\" alt=\"${item.area}\" class=\"w-full h-190 object-cover rounded-t-lg\">\n      <p class=\"bg-primaryColor-dark w-10 text-white text-center rounded px-2 absolute top-44\">${item.rate}</p>\n      <div class=\"rounded-b-lg\">\n        <div class=\"flex flex-col justify-between  h-336 pt-5 pb-4 px-7\">\n          <div>\n            <h4 class=\"text-2xl text-priamryColor border-b-4 border-primaryColor leading-10 mb-4\">${item.name}</h4>\n            <p class=\"text-gray-500 leading-7 mb-8\">\n              ${item.description}\n            </p>\n          </div>\n          <div class=\"flex justify-between items-center text-primaryColor font-medium\">\n            <p>\n              <i class=\"fas fa-exclamation-circle mr-1\"></i>\n              剩下最後 ${item.group} 組\n            </p>\n            <div class=\"flex items-center text-primary-Color\">\n              <p class=\"mr-1\">TWD</p>\n              <h5 class=\"text-4xl\">${item.price}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    `\n    // 卡片資料區加入遍歷過的 content 內容\n    cards += content;\n\n    // 計算篩選筆數\n    amount += 1;\n  })\n\n  // 修改卡片資料區 html 資料\n  cardArea.innerHTML = cards;\n  // 把 amount 累積計算後的筆數修改到html上\n  filterNum.innerHTML = `本次篩選共 ${amount} 筆資料`;\n}\n\n\n\n\n// ---下方篩選器---\nconst filter = document.querySelector('#filter');\n\n//  Filter 篩選器 - 第 1 層 監聽\nfilter.addEventListener('change', function (e) {\n  // 卡片資料區初始化\n  let cards = \"\";\n  // 篩選筆數初始化\n  let amount = 0;\n\n  // 第 2 層 forEach 遍歷資料\n  data.forEach(function (item) {\n\n    // 宣告、設定卡片樣板，遍歷後累積成卡片資料區的內容\n    let content = `\n      <div class=\"relative rounded-xl shadow-md\">\n      <h3 class=\"bg-primaryColor-light text-white px-5 py-2 w-24  text-lg text-center rounded-r-lg absolute -top-5\">\n        ${item.area}\n      </h3>\n      <img src=\"${item.imgUrl}\" alt=\"${item.area}\" class=\"w-full h-190 object-cover rounded-t-lg\">\n      <p class=\"bg-primaryColor-dark w-10 text-white text-center rounded px-2 absolute top-44\">${item.rate}</p>\n      <div class=\"rounded-b-lg\">\n        <div class=\"flex flex-col justify-between  h-336 pt-5 pb-4 px-7\">\n          <div>\n            <h4 class=\"text-2xl text-priamryColor border-b-4 border-primaryColor leading-10 mb-4\">${item.name}</h4>\n            <p class=\"text-gray-500 leading-7 mb-8\">\n              ${item.description}\n            </p>\n          </div>\n          <div class=\"flex justify-between items-center text-primaryColor font-medium\">\n            <p>\n              <i class=\"fas fa-exclamation-circle mr-1\"></i>\n              剩下最後 ${item.group} 組\n            </p>\n            <div class=\"flex items-center text-primary-Color\">\n              <p class=\"mr-1\">TWD</p>\n              <h5 class=\"text-4xl\">${item.price}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    `;\n\n    // 第三層 if 條件判斷\n    if (e.target.value === item.area) {\n      cards += content;\n      amount += 1;\n    } else if (e.target.value === \"all\") {\n      cards += content;\n      amount += 1;\n    }\n  })\n  cardArea.innerHTML = cards;\n  filterNum.innerHTML = `本次篩選共 ${amount} 筆資料`;\n});\n\n\n\n// ---上方新增套票---\n\n// 按鈕選取做監聽\nconst btn = document.querySelector('.btn')\n\n// 宣告變數 => 取值用\nconst tikketName = document.querySelector('.tikketName');\nconst imgUrl = document.querySelector('.imgUrl');\nconst area = document.querySelector('.area');\nconst price = document.querySelector('.price');\nconst group = document.querySelector('.group');\nconst rate = document.querySelector('.rate');\nconst description = document.querySelector('.description');\n\n//  監聽事件\nbtn.addEventListener('click', function (e) {\n\n  // 先判斷星級是否正確\n  if (rate.value >= 1 && rate.value <= 10) {\n    // 星級正確\n\n    // 宣告一個物件 => 之後要符合 data 資料結構\n    let obj = {};\n\n    // 將 obj 賦值，名稱結構比照 data\n    obj.id = data.length;\n    obj.name = tikketName.value;\n    obj.imgUrl = imgUrl.value;\n    obj.area = area.value;\n    obj.price = parseInt(price.value);\n    obj.group = parseInt(group.value);\n    obj.rate = parseInt(rate.value);\n    obj.description = description.value;\n\n    // 把建立好的 obj 物件 push 到 data陣列資料裡面\n    data.push(obj);\n\n    // 再次執行初始化，重新跑過 data內的資料，然後渲染 HTML\n    init();\n\n    // 重置filter到全部地區\n    filter.value = filter.options[1].value;\n\n  } else {\n    // 星級錯誤\n    alert('星級填寫錯誤');\n    event.preventDefault();\n    return\n  }\n\n\n  // 重置輸入欄位的值\n  tikketName.value = \"\";\n  imgUrl.value = \"\";\n  area.value = \"\";\n  price.value = \"\";\n  group.value = \"\";\n  rate.value = \"\";\n  description.value = \"\";\n\n  // 取消input type=submit 原本預設的 post 行為\n  event.preventDefault();\n})\n"]}